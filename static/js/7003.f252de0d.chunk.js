"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[7003],{1175:function(e,t,n){n.d(t,{Ir:function(){return x},KL:function(){return d},Mm:function(){return v},Oq:function(){return h},Se:function(){return l},W2:function(){return f},Xp:function(){return u},b9:function(){return w},i0:function(){return g},nM:function(){return m},rK:function(){return p},ry:function(){return y}});var r=n(4165),a=n(5861),c=n(1881),o=n.n(c),s=n(6741),i=n(8725),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,2e5],c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return function(){var l=(0,a.Z)((0,r.Z)().mark((function a(l){var d,p,f;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,l({type:s.u9}),d="".concat(i.Z,"/products?keyword=").concat(e,"&price[gte]=").concat(n[0],"&price[lte]=").concat(n[1],"&ratings[gte]=").concat(c,"&page=").concat(u),t&&(d="".concat(i.Z,"/products?keyword=").concat(e,"&category=").concat(t,"&price[gte]=").concat(n[0],"&price[lte]=").concat(n[1],"&ratings[gte]=").concat(c,"&page=").concat(u)),r.next=6,o().get(d);case 6:p=r.sent,f=p.data,l({type:s.$L,payload:f}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),l({type:s.D1,payload:r.t0.response.data.message});case 14:case"end":return r.stop()}}),a,null,[[0,11]])})));return function(e){return l.apply(this,arguments)}}()},l=function(e){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var a,c;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:s.u9}),t.next=4,o().get("".concat(i.Z,"/products?category=").concat(e));case 4:a=t.sent,c=a.data,n({type:s.$L,payload:c}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:s.D1,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},d=function(e){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var a,c;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:s.Uy}),t.next=4,o().get("".concat(i.Z,"/product/").concat(e));case 4:a=t.sent,c=a.data,n({type:s.xe,payload:c.product}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:s.gh,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var a,c,u;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:s.zK}),a={header:{"Content-Type":"application/json"}},t.next=5,o().put("".concat(i.Z,"/review"),e,a);case 5:c=t.sent,u=c.data,n({type:s.Yu,payload:u.success}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n({type:s.V_,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},f=function(){return function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:s.Xh}),e.next=4,o().get("".concat(i.Z,"/products/all"));case 4:n=e.sent,a=n.data,t({type:s.E8,payload:a.products}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:s.aU,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},h=function(){return function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:s.xC}),e.next=4,o().get("".concat(i.Z,"/admin/products"));case 4:n=e.sent,a=n.data,t({type:s.bu,payload:a.products}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:s.lb,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},y=function(e){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var a,c,u;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.prev=1,n({type:s.TK}),a={header:{"Content-Type":"application/json"}},t.next=6,o().post("".concat(i.Z,"/admin/product/new"),e,a);case 6:c=t.sent,u=c.data,n({type:s.Cy,payload:u}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n({type:s.J$,payload:t.t0.response.data.message});case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()},m=function(e,t){return function(){var n=(0,a.Z)((0,r.Z)().mark((function n(a){var c,u,l;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:s.L7}),c={header:{"Content-Type":"application/json"}},n.next=5,o().put("".concat(i.Z,"/admin/product/").concat(e),t,c);case 5:u=n.sent,l=u.data,a({type:s.zk,payload:l.success}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),a({type:s.ki,payload:n.t0.response.data.message});case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},x=function(e){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var a,c;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:s.bi}),t.next=4,o().delete("".concat(i.Z,"/admin/product/").concat(e),{withCredentials:!0});case 4:a=t.sent,c=a.data,n({type:s.cO,payload:c.success}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:s.IX,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var a,c;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:s.K5}),t.next=4,o().get("".concat(i.Z,"/admin/reviews?id=").concat(e));case 4:a=t.sent,c=a.data,n({type:s.cq,payload:c.reviews}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:s.mI,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},g=function(e,t){return function(){var n=(0,a.Z)((0,r.Z)().mark((function n(a){var c,u;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:s.fz}),n.next=4,o().delete("".concat(i.Z,"/admin/reviews?id=").concat(e,"&productId=").concat(t));case 4:c=n.sent,u=c.data,a({type:s.g6,payload:u.success}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),a({type:s.Om,payload:n.t0.response.data.message});case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},w=function(){return function(e){e({type:s.pp})}}},8704:function(e,t,n){var r=n(9439),a=n(7313),c=n(2135),o=n(5954),s=n(1997),i=n(6149),u=n(4117),l=n(3604),d=n(6467),p=n(6417);t.Z=function(e){var t=e.id,n=e.deleteHandler,f=e.name,h=e.editRoute,y=(0,a.useState)(!1),m=(0,r.Z)(y,2),x=m[0],v=m[1],g=function(){v(!1)};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"flex justify-between items-center gap-3",children:["review"!==h&&(0,p.jsx)(c.rU,{to:"/admin/".concat(h,"/").concat(t),className:"text-blue-600 hover:bg-blue-200 p-1 rounded-full bg-blue-100",children:(0,p.jsx)(o.Z,{})}),(0,p.jsx)("button",{onClick:function(){return v(!0)},className:"text-red-600 hover:bg-red-200 p-1 rounded-full bg-red-100",children:(0,p.jsx)(s.Z,{})})]}),(0,p.jsxs)(i.Z,{open:x,onClose:g,"aria-labelledby":"alert-dialog-title",children:[(0,p.jsx)(l.Z,{id:"alert-dialog-title",children:"Are you sure?"}),(0,p.jsx)(d.Z,{children:(0,p.jsxs)("p",{className:"text-gray-500",children:["Do you really want to delete",f&&(0,p.jsxs)("span",{className:"font-medium",children:["\xa0",f]}),"? This process cannot be undone."]})}),(0,p.jsxs)(u.Z,{children:[(0,p.jsx)("button",{onClick:g,className:"py-2 px-6 rounded shadow bg-gray-400 hover:bg-gray-500 text-white",children:"Cancel"}),(0,p.jsx)("button",{onClick:function(){return n(t)},className:"py-2 px-6 ml-4 rounded bg-red-600 hover:bg-red-700 text-white shadow",children:"Delete"})]})]})]})}},7003:function(e,t,n){n.r(t);var r=n(7313),a=n(5161),c=n(6352),o=n(7230),s=n(2135),i=n(1175),u=n(5942),l=n(6741),d=n(8704),p=n(4675),f=n(1674),h=n(6417);t.default=function(){var e=(0,c.I0)(),t=(0,o.Ds)().enqueueSnackbar,n=(0,c.v9)((function(e){return e.products})),y=n.products,m=n.error,x=(0,c.v9)((function(e){return e.product})),v=x.loading,g=x.isDeleted,w=x.error;(0,r.useEffect)((function(){m&&(t(m,{variant:"error"}),e((0,i.b9)())),w&&(t(w,{variant:"error"}),e((0,i.b9)())),g&&(t("Product Deleted Successfully",{variant:"success"}),e({type:l.w$})),e((0,i.Oq)())}),[e,m,w,g,t]);var Z=function(t){e((0,i.Ir)(t))},b=[{field:"id",headerName:"Product ID",minWidth:100,flex:.5},{field:"name",headerName:"Name",minWidth:200,flex:1,renderCell:function(e){return(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsx)("div",{className:"w-10 h-10 rounded-full",children:(0,h.jsx)("img",{draggable:"false",src:e.row.image,alt:e.row.name,className:"w-full h-full rounded-full object-cover"})}),e.row.name]})}},{field:"category",headerName:"Category",minWidth:100,flex:.1},{field:"stock",headerName:"Stock",type:"number",headerAlign:"left",align:"left",minWidth:70,flex:.1,renderCell:function(e){return(0,h.jsx)(h.Fragment,{children:e.row.stock<10?(0,h.jsx)("span",{className:"font-medium text-red-700 rounded-full bg-red-200 p-1 w-6 h-6 flex items-center justify-center",children:e.row.stock}):(0,h.jsx)("span",{className:"",children:e.row.stock})})}},{field:"price",headerName:"Price",type:"number",minWidth:100,headerAlign:"left",align:"left",flex:.2,renderCell:function(e){return(0,h.jsxs)("span",{children:["\u20b9",e.row.price.toLocaleString()]})}},{field:"cprice",headerName:"Cutted Price",type:"number",minWidth:100,headerAlign:"left",align:"left",flex:.2,renderCell:function(e){return(0,h.jsxs)("span",{children:["\u20b9",e.row.cprice.toLocaleString()]})}},{field:"rating",headerName:"Rating",type:"number",minWidth:100,flex:.1,align:"left",headerAlign:"left",renderCell:function(e){return(0,h.jsx)(u.Z,{readOnly:!0,value:e.row.rating,size:"small",precision:.5})}},{field:"actions",headerName:"Actions",minWidth:100,flex:.3,type:"number",sortable:!1,renderCell:function(e){return(0,h.jsx)(d.Z,{editRoute:"product",deleteHandler:Z,id:e.row.id})}}],j=[];return y&&y.forEach((function(e){j.unshift({id:e._id,name:e.name,image:e.images[0].url,category:e.category,stock:e.stock,price:e.price,cprice:e.cuttedPrice,rating:e.ratings})})),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(p.Z,{title:"Admin Products | Flipkart"}),v&&(0,h.jsx)(f.Z,{}),(0,h.jsxs)("div",{className:"flex justify-between items-center",children:[(0,h.jsx)("h1",{className:"text-lg font-medium uppercase",children:"products"}),(0,h.jsx)(s.rU,{to:"/admin/new_product",className:"py-2 px-4 rounded shadow font-medium text-white bg-primary-blue hover:shadow-lg",children:"New Product"})]}),(0,h.jsx)("div",{className:"bg-white rounded-xl shadow-lg w-full",style:{height:470},children:(0,h.jsx)(a._,{rows:j,columns:b,pageSize:10,disableSelectIconOnClick:!0,sx:{boxShadow:0,border:0}})})]})}},1674:function(e,t,n){var r=n(1554),a=n(5281),c=n(6417);t.Z=function(){return(0,c.jsx)(r.Z,{sx:{color:"#fff",zIndex:1500},open:!0,children:(0,c.jsx)(a.Z,{color:"inherit"})})}},4675:function(e,t,n){var r=n(182),a=n(6417);t.Z=function(e){var t=e.title;return(0,a.jsx)(r.q,{children:(0,a.jsx)("title",{children:t})})}}}]);