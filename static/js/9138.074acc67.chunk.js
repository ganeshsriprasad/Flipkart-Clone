"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[9138],{1175:function(e,t,n){n.d(t,{Ir:function(){return x},KL:function(){return l},Mm:function(){return m},Oq:function(){return h},Se:function(){return p},W2:function(){return f},Xp:function(){return i},b9:function(){return Z},i0:function(){return g},nM:function(){return y},rK:function(){return d},ry:function(){return v}});var r=n(4165),a=n(5861),c=n(1881),o=n.n(c),s=n(6741),u=n(8725),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,2e5],c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return function(){var p=(0,a.Z)((0,r.Z)().mark((function a(p){var l,d,f;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,p({type:s.u9}),l="".concat(u.Z,"/products?keyword=").concat(e,"&price[gte]=").concat(n[0],"&price[lte]=").concat(n[1],"&ratings[gte]=").concat(c,"&page=").concat(i),t&&(l="".concat(u.Z,"/products?keyword=").concat(e,"&category=").concat(t,"&price[gte]=").concat(n[0],"&price[lte]=").concat(n[1],"&ratings[gte]=").concat(c,"&page=").concat(i)),r.next=6,o().get(l);case 6:d=r.sent,f=d.data,p({type:s.$L,payload:f}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),p({type:s.D1,payload:r.t0.response.data.message});case 14:case"end":return r.stop()}}),a,null,[[0,11]])})));return function(e){return p.apply(this,arguments)}}()},p=function(e){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var a,c;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:s.u9}),t.next=4,o().get("".concat(u.Z,"/products?category=").concat(e));case 4:a=t.sent,c=a.data,n({type:s.$L,payload:c}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:s.D1,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},l=function(e){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var a,c;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:s.Uy}),t.next=4,o().get("".concat(u.Z,"/product/").concat(e));case 4:a=t.sent,c=a.data,n({type:s.xe,payload:c.product}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:s.gh,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},d=function(e){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var a,c,i;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:s.zK}),a={header:{"Content-Type":"application/json"}},t.next=5,o().put("".concat(u.Z,"/review"),e,a);case 5:c=t.sent,i=c.data,n({type:s.Yu,payload:i.success}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n({type:s.V_,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},f=function(){return function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:s.Xh}),e.next=4,o().get("".concat(u.Z,"/products/all"));case 4:n=e.sent,a=n.data,t({type:s.E8,payload:a.products}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:s.aU,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},h=function(){return function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:s.xC}),e.next=4,o().get("".concat(u.Z,"/admin/products"));case 4:n=e.sent,a=n.data,t({type:s.bu,payload:a.products}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:s.lb,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},v=function(e){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var a,c,i;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.prev=1,n({type:s.TK}),a={header:{"Content-Type":"application/json"}},t.next=6,o().post("".concat(u.Z,"/admin/product/new"),e,a);case 6:c=t.sent,i=c.data,n({type:s.Cy,payload:i}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n({type:s.J$,payload:t.t0.response.data.message});case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()},y=function(e,t){return function(){var n=(0,a.Z)((0,r.Z)().mark((function n(a){var c,i,p;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:s.L7}),c={header:{"Content-Type":"application/json"}},n.next=5,o().put("".concat(u.Z,"/admin/product/").concat(e),t,c);case 5:i=n.sent,p=i.data,a({type:s.zk,payload:p.success}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),a({type:s.ki,payload:n.t0.response.data.message});case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},x=function(e){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var a,c;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:s.bi}),t.next=4,o().delete("".concat(u.Z,"/admin/product/").concat(e),{withCredentials:!0});case 4:a=t.sent,c=a.data,n({type:s.cO,payload:c.success}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:s.IX,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var a,c;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:s.K5}),t.next=4,o().get("".concat(u.Z,"/admin/reviews?id=").concat(e));case 4:a=t.sent,c=a.data,n({type:s.cq,payload:c.reviews}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:s.mI,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},g=function(e,t){return function(){var n=(0,a.Z)((0,r.Z)().mark((function n(a){var c,i;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:s.fz}),n.next=4,o().delete("".concat(u.Z,"/admin/reviews?id=").concat(e,"&productId=").concat(t));case 4:c=n.sent,i=c.data,a({type:s.g6,payload:i.success}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),a({type:s.Om,payload:n.t0.response.data.message});case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},Z=function(){return function(e){e({type:s.pp})}}},8704:function(e,t,n){var r=n(9439),a=n(7313),c=n(2135),o=n(5954),s=n(1997),u=n(6149),i=n(4117),p=n(3604),l=n(6467),d=n(6417);t.Z=function(e){var t=e.id,n=e.deleteHandler,f=e.name,h=e.editRoute,v=(0,a.useState)(!1),y=(0,r.Z)(v,2),x=y[0],m=y[1],g=function(){m(!1)};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"flex justify-between items-center gap-3",children:["review"!==h&&(0,d.jsx)(c.rU,{to:"/admin/".concat(h,"/").concat(t),className:"text-blue-600 hover:bg-blue-200 p-1 rounded-full bg-blue-100",children:(0,d.jsx)(o.Z,{})}),(0,d.jsx)("button",{onClick:function(){return m(!0)},className:"text-red-600 hover:bg-red-200 p-1 rounded-full bg-red-100",children:(0,d.jsx)(s.Z,{})})]}),(0,d.jsxs)(u.Z,{open:x,onClose:g,"aria-labelledby":"alert-dialog-title",children:[(0,d.jsx)(p.Z,{id:"alert-dialog-title",children:"Are you sure?"}),(0,d.jsx)(l.Z,{children:(0,d.jsxs)("p",{className:"text-gray-500",children:["Do you really want to delete",f&&(0,d.jsxs)("span",{className:"font-medium",children:["\xa0",f]}),"? This process cannot be undone."]})}),(0,d.jsxs)(i.Z,{children:[(0,d.jsx)("button",{onClick:g,className:"py-2 px-6 rounded shadow bg-gray-400 hover:bg-gray-500 text-white",children:"Cancel"}),(0,d.jsx)("button",{onClick:function(){return n(t)},className:"py-2 px-6 ml-4 rounded bg-red-600 hover:bg-red-700 text-white shadow",children:"Delete"})]})]})]})}},9138:function(e,t,n){n.r(t);var r=n(9439),a=n(7313),c=n(5161),o=n(6352),s=n(7230),u=n(1175),i=n(5942),p=n(8704),l=n(6741),d=n(4675),f=n(1674),h=n(6417);t.default=function(){var e=(0,o.I0)(),t=(0,s.Ds)().enqueueSnackbar,n=(0,a.useState)(""),v=(0,r.Z)(n,2),y=v[0],x=v[1],m=(0,o.v9)((function(e){return e.reviews})),g=m.reviews,Z=m.error,w=(0,o.v9)((function(e){return e.review})),b=w.loading,k=w.isDeleted,j=w.error;(0,a.useEffect)((function(){24===y.length&&e((0,u.Mm)(y)),Z&&(t(Z,{variant:"error"}),e((0,u.b9)())),j&&(t(j,{variant:"error"}),e((0,u.b9)())),k&&(t("Review Deleted Successfully",{variant:"success"}),e({type:l.qD}))}),[e,Z,j,k,y,t]);var C=function(t){e((0,u.i0)(t,y))},N=[{field:"id",headerName:"Review ID",minWidth:200,flex:.5},{field:"user",headerName:"User",minWidth:150,flex:.5},{field:"rating",headerName:"Rating",type:"number",minWidth:200,flex:.3,align:"left",headerAlign:"left",renderCell:function(e){return(0,h.jsx)(i.Z,{readOnly:!0,value:e.row.rating,size:"small",precision:.5})}},{field:"comment",headerName:"Comment",minWidth:200,flex:.5},{field:"actions",headerName:"Actions",minWidth:150,flex:.3,type:"number",sortable:!1,renderCell:function(e){return(0,h.jsx)(p.Z,{editRoute:"review",deleteHandler:C,id:e.row.id})}}],D=[];return g&&g.forEach((function(e){D.push({id:e._id,rating:e.rating,comment:e.comment,user:e.name})})),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(d.Z,{title:"Admin Reviews | Flipkart"}),b&&(0,h.jsx)(f.Z,{}),(0,h.jsxs)("div",{className:"flex justify-between items-center gap-2 sm:gap-12",children:[(0,h.jsx)("h1",{className:"text-lg font-medium uppercase",children:"reviews"}),(0,h.jsx)("input",{type:"text",placeholder:"Product ID",value:y,onChange:function(e){return x(e.target.value)},className:"outline-none border-0 rounded p-2 w-full shadow hover:shadow-lg"})]}),(0,h.jsx)("div",{className:"bg-white rounded-xl shadow-lg w-full",style:{height:450},children:(0,h.jsx)(c._,{rows:D,columns:N,pageSize:10,disableSelectIconOnClick:!0,sx:{boxShadow:0,border:0}})})]})}},1674:function(e,t,n){var r=n(1554),a=n(5281),c=n(6417);t.Z=function(){return(0,c.jsx)(r.Z,{sx:{color:"#fff",zIndex:1500},open:!0,children:(0,c.jsx)(a.Z,{color:"inherit"})})}},4675:function(e,t,n){var r=n(182),a=n(6417);t.Z=function(e){var t=e.title;return(0,a.jsx)(r.q,{children:(0,a.jsx)("title",{children:t})})}}}]);