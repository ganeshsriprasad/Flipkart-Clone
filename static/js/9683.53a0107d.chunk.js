"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[9683],{1507:function(e,t,n){n.d(t,{Cs:function(){return m},PO:function(){return o},TG:function(){return l},b9:function(){return h},s$:function(){return d},wH:function(){return x},yv:function(){return f},zk:function(){return p}});var r=n(4165),a=n(5861),s=n(1881),c=n.n(s),i=n(531),u=n(8725),o=function(e){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var a,s;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:i.Zm}),{headers:{"Content-Type":"application/json"}},t.next=5,c().post("".concat(u.Z,"/order/new"),e,{withCredentials:!0});case 5:a=t.sent,s=a.data,n({type:i.Cd,payload:s}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n({type:i.Hn,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},l=function(){return function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:i.A4}),e.next=4,c().get("".concat(u.Z,"/orders/me"),{withCredentials:!0});case 4:n=e.sent,a=n.data,t({type:i.SJ,payload:a.orders}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:i.ut,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},d=function(e){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var a,s;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:i.YO}),t.next=4,c().get("".concat(u.Z,"/order/").concat(e),{withCredentials:!0});case 4:a=t.sent,s=a.data,n({type:i.um,payload:s.order}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:i.Ab,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var a,s;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:i.dR}),t.next=4,c().get("".concat(u.Z,"/payment/status/").concat(e),{withCredentials:!0});case 4:a=t.sent,s=a.data,console.log(s),n({type:i.jl,payload:s.txn}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n({type:i.CY,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},p=function(){return function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:i.Ux}),e.next=4,c().get("".concat(u.Z,"/admin/orders"),{withCredentials:!0});case 4:n=e.sent,a=n.data,t({type:i.g6,payload:a.orders}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:i.xH,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},m=function(e,t){return function(){var n=(0,a.Z)((0,r.Z)().mark((function n(a){var s,o;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:i.Mi}),{headers:{"Content-Type":"application/json"}},n.next=5,c().put("".concat(u.Z,"/admin/order/").concat(e),t,{withCredentials:!0});case 5:s=n.sent,o=s.data,a({type:i.Bx,payload:o.success}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),a({type:i.vs,payload:n.t0.response.data.message});case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},x=function(e){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var a,s;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:i.B6}),t.next=4,c().delete("".concat(u.Z,"/admin/order/").concat(e),{withCredentials:!0});case 4:a=t.sent,s=a.data,n({type:i.Sn,payload:s.success}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:i.gq,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},h=function(){return function(e){e({type:i.pp})}}},4431:function(e,t,n){var r=n(5281),a=n(6417);t.Z=function(){return(0,a.jsx)("div",{className:"min-h-screen min-w-full flex items-center justify-center",children:(0,a.jsx)(r.Z,{})})}},4675:function(e,t,n){var r=n(182),a=n(6417);t.Z=function(e){var t=e.title;return(0,a.jsx)(r.q,{children:(0,a.jsx)("title",{children:t})})}},5716:function(e,t,n){var r=n(6306),a=n(2135),s=n(6417),c=["Electronics","TVs & Appliances","Men","Women","Baby & Kids","Home & Furniture","Sports, Books & More","Flights","Offer Zone","Grocery"];t.Z=function(){return(0,s.jsx)("section",{className:"hidden sm:block bg-white w-full px-2 sm:px-12 overflow-hidden border-b mt-14",children:(0,s.jsx)("div",{className:"flex items-center justify-between p-0.5",children:c.map((function(e,t){return(0,s.jsxs)(a.rU,{to:"/products",className:"text-sm p-2 text-gray-800 font-medium hover:text-primary-blue flex items-center gap-0.5 group",children:[e," ",(0,s.jsx)("span",{className:"text-gray-400 group-hover:text-primary-blue",children:(0,s.jsx)(r.Z,{sx:{fontSize:"16px"}})})]},t)}))})})}},6710:function(e,t,n){n.r(t);var r=n(7230),a=n(7313),s=n(6352),c=n(8467),i=n(1507),u=n(4431),o=n(2978),l=n(5716),d=n(4675),f=n(6417);t.default=function(){var e=(0,s.I0)(),t=(0,r.Ds)().enqueueSnackbar,n=(0,c.UO)(),p=(0,s.v9)((function(e){return e.orderDetails})),m=p.order,x=p.error,h=p.loading;return(0,a.useEffect)((function(){x&&(t(x,{variant:"error"}),e((0,i.b9)())),e((0,i.s$)(n.id))}),[e,x,n.id,t]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(d.Z,{title:"Order Details | Flipkart"}),(0,f.jsx)(l.Z,{}),(0,f.jsx)("main",{className:"w-full mt-14 sm:mt-4",children:h?(0,f.jsx)(u.Z,{}):(0,f.jsx)(f.Fragment,{children:m&&m.user&&m.shippingInfo&&(0,f.jsxs)("div",{className:"flex flex-col gap-4 max-w-6xl mx-auto",children:[(0,f.jsx)("div",{className:"flex bg-white shadow rounded-sm min-w-full",children:(0,f.jsx)("div",{className:"sm:w-1/2 border-r",children:(0,f.jsxs)("div",{className:"flex flex-col gap-3 my-8 mx-10",children:[(0,f.jsx)("h3",{className:"font-medium text-lg",children:"Delivery Address"}),(0,f.jsx)("h4",{className:"font-medium",children:m.user.name}),(0,f.jsx)("p",{className:"text-sm",children:"".concat(m.shippingInfo.address,", ").concat(m.shippingInfo.city,", ").concat(m.shippingInfo.state," - ").concat(m.shippingInfo.pincode)}),(0,f.jsxs)("div",{className:"flex gap-2 text-sm",children:[(0,f.jsx)("p",{className:"font-medium",children:"Email"}),(0,f.jsx)("p",{children:m.user.email})]}),(0,f.jsxs)("div",{className:"flex gap-2 text-sm",children:[(0,f.jsx)("p",{className:"font-medium",children:"Phone Number"}),(0,f.jsx)("p",{children:m.shippingInfo.phoneNo})]})]})})}),m.orderItems&&m.orderItems.map((function(e){var t=e._id,n=e.image,r=e.name,a=e.price,s=e.quantity;return(0,f.jsxs)("div",{className:"flex flex-col sm:flex-row min-w-full shadow rounded-sm bg-white px-2 py-5",children:[(0,f.jsxs)("div",{className:"flex flex-col sm:flex-row sm:w-1/2 gap-2",children:[(0,f.jsx)("div",{className:"w-full sm:w-32 h-20",children:(0,f.jsx)("img",{draggable:"false",className:"h-full w-full object-contain",src:n,alt:r})}),(0,f.jsxs)("div",{className:"flex flex-col gap-1 overflow-hidden",children:[(0,f.jsx)("p",{className:"text-sm",children:r.length>60?"".concat(r.substring(0,60),"..."):r}),(0,f.jsxs)("p",{className:"text-xs text-gray-600 mt-2",children:["Quantity: ",s]}),(0,f.jsxs)("p",{className:"text-xs text-gray-600",children:["Price: \u20b9",a.toLocaleString()]}),(0,f.jsxs)("span",{className:"font-medium",children:["Total: \u20b9",(s*a).toLocaleString()]})]})]}),(0,f.jsxs)("div",{className:"flex flex-col w-full sm:w-1/2",children:[(0,f.jsx)("h3",{className:"font-medium sm:text-center",children:"Order Status"}),(0,f.jsx)(o.Z,{orderOn:m.createdAt,shippedAt:m.shippedAt,deliveredAt:m.deliveredAt,activeStep:"Delivered"===m.orderStatus?2:"Shipped"===m.orderStatus?1:0})]})]},t)}))]})})})]})}},2978:function(e,t,n){var r=n(1917),a=n(8490),s=n(315),c=n(3813),i=n(9257),u=n(6417);t.Z=function(e){var t=e.activeStep,n=e.orderOn,o=e.shippedAt,l=e.deliveredAt,d=[{status:"Ordered",dt:(0,i.p6)(n)},{status:"Shipped",dt:(0,i.p6)(o)},{status:"Delivered",dt:(0,i.p6)(l)}],f=(0,u.jsx)("span",{className:"text-primary-green animate-pulse",children:(0,u.jsx)(c.Z,{sx:{fontSize:"16px"}})}),p=(0,u.jsx)("span",{className:"text-gray-400",children:(0,u.jsx)(c.Z,{sx:{fontSize:"16px"}})});return(0,u.jsx)(r.Z,{activeStep:t,alternativeLabel:!0,children:d.map((function(e,n){return(0,u.jsx)(a.Z,{active:t===n,completed:t>=n,children:(0,u.jsx)(s.Z,{icon:t>=n?f:p,children:t>=n?(0,u.jsxs)("div",{className:"flex flex-col",children:[(0,u.jsx)("span",{className:"text-primary-green font-medium",children:e.status}),"Invalid Date"!==e.dt&&(0,u.jsx)("span",{className:"text-primary-green font-medium",children:e.dt})]}):(0,u.jsx)("span",{className:"text-gray-400 font-medium",children:e.status})})},n)}))})}},9257:function(e,t,n){n.d(t,{Y2:function(){return c},cn:function(){return a},fL:function(){return r},p6:function(){return s}});var r=function(e,t){return((t-e)/t*100).toFixed()},a=function(){var e=new Date;return e.setDate((new Date).getDate()+7),e.toUTCString().substring(0,11)},s=function(e){return new Date(e).toUTCString().substring(0,16)},c=function(e,t){return e.sort((function(){return.5-Math.random()})).slice(0,t)}},6306:function(e,t,n){var r=n(4836);t.Z=void 0;var a=r(n(5045)),s=n(6417),c=(0,a.default)((0,s.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");t.Z=c},5038:function(e,t,n){var r=n(4246);t.Z=r.Z},4750:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(7462),a=n(7313),s=n(210),c=n(6417);function i(e,t){function n(n,a){return(0,c.jsx)(s.Z,(0,r.Z)({"data-testid":"".concat(t,"Icon"),ref:a},n,{children:e}))}return n.muiName=s.Z.muiName,a.memo(a.forwardRef(n))}},7816:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(7313);var a=function(e,t){return r.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}},6106:function(e,t,n){var r=n(9081);t.Z=r.Z},3800:function(e,t,n){var r=n(782);t.Z=r.Z},4993:function(e,t,n){var r=n(2678);t.Z=r.Z},3236:function(e,t,n){var r=n(2780);t.Z=r.Z},7677:function(e,t,n){var r=n(3362);t.Z=r.Z},7037:function(e,t,n){var r=n(5669);t.Z=r.Z},4246:function(e,t,n){function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];e.apply(this,r),t.apply(this,r)}}),(function(){}))}n.d(t,{Z:function(){return r}})},782:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(9439),a=n(7313);function s(e){var t=e.controlled,n=e.default,s=(e.name,e.state,a.useRef(void 0!==t).current),c=a.useState(n),i=(0,r.Z)(c,2),u=i[0],o=i[1];return[s?t:u,a.useCallback((function(e){s||o(e)}),[])]}},3362:function(e,t,n){var r;n.d(t,{Z:function(){return u}});var a=n(9439),s=n(7313),c=0;var i=(r||(r=n.t(s,2))).useId;function u(e){if(void 0!==i){var t=i();return null!=e?e:t}return function(e){var t=s.useState(e),n=(0,a.Z)(t,2),r=n[0],i=n[1],u=e||r;return s.useEffect((function(){null==r&&i("mui-".concat(c+=1))}),[r]),u}(e)}},5669:function(e,t,n){n.d(t,{Z:function(){return f}});var r,a=n(7313),s=!0,c=!1,i={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function u(e){e.metaKey||e.altKey||e.ctrlKey||(s=!0)}function o(){s=!1}function l(){"hidden"===this.visibilityState&&c&&(s=!0)}function d(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return s||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!i[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function f(){var e=a.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",u,!0),t.addEventListener("mousedown",o,!0),t.addEventListener("pointerdown",o,!0),t.addEventListener("touchstart",o,!0),t.addEventListener("visibilitychange",l,!0))}),[]),t=a.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!d(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(c=!0,window.clearTimeout(r),r=window.setTimeout((function(){c=!1}),100),t.current=!1,!0)},ref:e}}}}]);