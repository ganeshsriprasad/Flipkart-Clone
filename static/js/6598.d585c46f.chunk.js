"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[6598],{1507:function(e,t,r){r.d(t,{Cs:function(){return x},PO:function(){return o},TG:function(){return u},b9:function(){return h},s$:function(){return d},wH:function(){return m},yv:function(){return p},zk:function(){return f}});var n=r(4165),s=r(5861),a=r(1881),c=r.n(a),i=r(531),l=r(8725),o=function(e){return function(){var t=(0,s.Z)((0,n.Z)().mark((function t(r){var s,a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:i.Zm}),{headers:{"Content-Type":"application/json"}},t.next=5,c().post("".concat(l.Z,"/order/new"),e,{withCredentials:!0});case 5:s=t.sent,a=s.data,r({type:i.Cd,payload:a}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),r({type:i.Hn,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},u=function(){return function(){var e=(0,s.Z)((0,n.Z)().mark((function e(t){var r,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:i.A4}),e.next=4,c().get("".concat(l.Z,"/orders/me"),{withCredentials:!0});case 4:r=e.sent,s=r.data,t({type:i.SJ,payload:s.orders}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:i.ut,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},d=function(e){return function(){var t=(0,s.Z)((0,n.Z)().mark((function t(r){var s,a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:i.YO}),t.next=4,c().get("".concat(l.Z,"/order/").concat(e),{withCredentials:!0});case 4:s=t.sent,a=s.data,r({type:i.um,payload:a.order}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:i.Ab,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=(0,s.Z)((0,n.Z)().mark((function t(r){var s,a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:i.dR}),t.next=4,c().get("".concat(l.Z,"/payment/status/").concat(e),{withCredentials:!0});case 4:s=t.sent,a=s.data,console.log(a),r({type:i.jl,payload:a.txn}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),r({type:i.CY,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},f=function(){return function(){var e=(0,s.Z)((0,n.Z)().mark((function e(t){var r,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:i.Ux}),e.next=4,c().get("".concat(l.Z,"/admin/orders"),{withCredentials:!0});case 4:r=e.sent,s=r.data,t({type:i.g6,payload:s.orders}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:i.xH,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},x=function(e,t){return function(){var r=(0,s.Z)((0,n.Z)().mark((function r(s){var a,o;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,s({type:i.Mi}),{headers:{"Content-Type":"application/json"}},r.next=5,c().put("".concat(l.Z,"/admin/order/").concat(e),t,{withCredentials:!0});case 5:a=r.sent,o=a.data,s({type:i.Bx,payload:o.success}),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),s({type:i.vs,payload:r.t0.response.data.message});case 13:case"end":return r.stop()}}),r,null,[[0,10]])})));return function(e){return r.apply(this,arguments)}}()},m=function(e){return function(){var t=(0,s.Z)((0,n.Z)().mark((function t(r){var s,a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:i.B6}),t.next=4,c().delete("".concat(l.Z,"/admin/order/").concat(e),{withCredentials:!0});case 4:s=t.sent,a=s.data,r({type:i.Sn,payload:a.success}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:i.gq,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},h=function(){return function(e){e({type:i.pp})}}},4431:function(e,t,r){var n=r(5281),s=r(6417);t.Z=function(){return(0,s.jsx)("div",{className:"min-h-screen min-w-full flex items-center justify-center",children:(0,s.jsx)(n.Z,{})})}},4675:function(e,t,r){var n=r(182),s=r(6417);t.Z=function(e){var t=e.title;return(0,s.jsx)(n.q,{children:(0,s.jsx)("title",{children:t})})}},5716:function(e,t,r){var n=r(6306),s=r(2135),a=r(6417),c=["Electronics","TVs & Appliances","Men","Women","Baby & Kids","Home & Furniture","Sports, Books & More","Flights","Offer Zone","Grocery"];t.Z=function(){return(0,a.jsx)("section",{className:"hidden sm:block bg-white w-full px-2 sm:px-12 overflow-hidden border-b mt-14",children:(0,a.jsx)("div",{className:"flex items-center justify-between p-0.5",children:c.map((function(e,t){return(0,a.jsxs)(s.rU,{to:"/products",className:"text-sm p-2 text-gray-800 font-medium hover:text-primary-blue flex items-center gap-0.5 group",children:[e," ",(0,a.jsx)("span",{className:"text-gray-400 group-hover:text-primary-blue",children:(0,a.jsx)(n.Z,{sx:{fontSize:"16px"}})})]},t)}))})})}},6598:function(e,t,r){r.r(t),r.d(t,{default:function(){return k}});var n=r(1413),s=r(9439),a=r(7313),c=r(1507),i=r(6352),l=r(4431),o=r(7230),u=r(4e3),d=r(3813),p=r(2135),f=r(9257),x=r(6417),m=function(e){var t=e.orderId,r=e.name,n=e.image,s=e.price,a=e.quantity,c=e.createdAt,i=e.deliveredAt,l=e.orderStatus;return(0,x.jsxs)(p.rU,{to:"/order_details/".concat(t),className:"flex p-4 items-start bg-white border rounded gap-2 sm:gap-0 hover:shadow-lg",children:[(0,x.jsx)("div",{className:"w-full sm:w-32 h-20",children:(0,x.jsx)("img",{draggable:"false",className:"h-full w-full object-contain",src:n,alt:r})}),(0,x.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between w-full",children:[(0,x.jsxs)("div",{className:"flex flex-col gap-1 overflow-hidden",children:[(0,x.jsx)("p",{className:"text-sm",children:r.length>40?"".concat(r.substring(0,40),"..."):r}),(0,x.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["Quantity: ",a]}),(0,x.jsxs)("p",{className:"text-xs text-gray-500",children:["Total: \u20b9",(a*s).toLocaleString()]})]}),(0,x.jsxs)("div",{className:"flex flex-col sm:flex-row mt-1 sm:mt-0 gap-2 sm:gap-20 sm:w-1/2",children:[(0,x.jsxs)("p",{className:"text-sm",children:["\u20b9",s.toLocaleString()]}),(0,x.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,x.jsx)("p",{className:"text-sm font-medium flex items-center gap-1",children:"Shipped"===l?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("span",{className:"text-primary-orange pb-0.5",children:(0,x.jsx)(d.Z,{sx:{fontSize:"14px"}})}),"Shipped"]}):"Delivered"===l?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("span",{className:"text-primary-green pb-0.5",children:(0,x.jsx)(d.Z,{sx:{fontSize:"14px"}})}),"Delivered on ",(0,f.p6)(i)]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("span",{className:"text-primary-green pb-0.5",children:(0,x.jsx)(u.Z,{sx:{fontSize:"14px"}})}),"Ordered on ",(0,f.p6)(c)]})}),"Delivered"===l||"Shipped"===l?(0,x.jsxs)("p",{className:"text-xs ml-1",children:["Your item has been ",l]}):(0,x.jsx)("p",{className:"text-xs ml-1",children:"Seller has processed your order"})]})]})]})]})},h=r(1550),v=r(3929),g=r(4268),y=r(5685),j=r(7983),b=r(5716),w=r(4675),Z=["Processing","Shipped","Delivered"],N=new Date,S=[N.getMonth(),N.getFullYear()-1,N.getFullYear()-2],k=function(){var e=(0,i.I0)(),t=(0,o.Ds)().enqueueSnackbar,r=(0,a.useState)(""),u=(0,s.Z)(r,2),d=u[0],p=u[1],f=(0,a.useState)(0),k=(0,s.Z)(f,2),C=k[0],D=k[1],A=(0,a.useState)(""),F=(0,s.Z)(A,2),M=F[0],T=F[1],E=(0,a.useState)([]),O=(0,s.Z)(E,2),z=O[0],I=O[1],Y=(0,i.v9)((function(e){return e.myOrders})),U=Y.orders,L=Y.loading,R=Y.error;(0,a.useEffect)((function(){R&&(t(R,{variant:"error"}),e((0,c.b9)())),e((0,c.TG)())}),[e,R,t]),(0,a.useEffect)((function(){!1===L&&I(U)}),[L,U]),(0,a.useEffect)((function(){if(T(""),d||0!==+C)if(d&&C)if(+C===N.getMonth()){var e=U.filter((function(e){return e.orderStatus===d&&new Date(e.createdAt).getMonth()===+C}));I(e)}else{var t=U.filter((function(e){return e.orderStatus===d&&new Date(e.createdAt).getFullYear()===+C}));I(t)}else if(d){var r=U.filter((function(e){return e.orderStatus===d}));I(r)}else if(+C===N.getMonth()){var n=U.filter((function(e){return new Date(e.createdAt).getMonth()===+C}));I(n)}else{var s=U.filter((function(e){return new Date(e.createdAt).getFullYear()===+C}));I(s)}else I(U)}),[d,C]);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(w.Z,{title:"My Orders | Flipkart"}),(0,x.jsx)(b.Z,{}),(0,x.jsx)("main",{className:"w-full mt-16 sm:mt-0",children:(0,x.jsxs)("div",{className:"flex gap-3.5 mt-2 sm:mt-6 sm:mx-3 m-auto mb-7",children:[(0,x.jsx)("div",{className:"hidden sm:flex flex-col w-1/5 px-1",children:(0,x.jsxs)("div",{className:"flex flex-col bg-white rounded-sm shadow",children:[(0,x.jsxs)("div",{className:"flex items-center justify-between gap-5 px-4 py-2 border-b",children:[(0,x.jsx)("p",{className:"text-lg font-medium",children:"Filters"}),(0,x.jsx)("span",{onClick:function(){p(""),D(0)},className:"text-blue-600 font-medium text-sm uppercase cursor-pointer hover:text-blue-700",children:"clear all"})]}),(0,x.jsxs)("div",{className:"flex flex-col py-3 text-sm",children:[(0,x.jsx)("span",{className:"font-medium px-4",children:"ORDER STATUS"}),(0,x.jsx)("div",{className:"flex flex-col gap-3 px-4 mt-1 pb-3 border-b",children:(0,x.jsx)(h.Z,{children:(0,x.jsx)(y.Z,{"aria-labelledby":"orderstatus-radio-buttons-group",onChange:function(e){return p(e.target.value)},name:"orderstatus-radio-buttons",value:d,children:Z.map((function(e,t){return(0,x.jsx)(v.Z,{value:e,control:(0,x.jsx)(g.Z,{size:"small"}),label:(0,x.jsx)("span",{className:"text-sm",children:e})},t)}))})})})]}),(0,x.jsxs)("div",{className:"flex flex-col pb-2 text-sm",children:[(0,x.jsx)("span",{className:"font-medium px-4",children:"ORDER TIME"}),(0,x.jsx)("div",{className:"flex flex-col gap-3 mt-1 px-4 pb-3",children:(0,x.jsx)(h.Z,{children:(0,x.jsx)(y.Z,{"aria-labelledby":"ordertime-radio-buttons-group",onChange:function(e){return D(e.target.value)},name:"ordertime-radio-buttons",value:C,children:S.map((function(e,t){return(0,x.jsx)(v.Z,{value:e,control:(0,x.jsx)(g.Z,{size:"small"}),label:(0,x.jsx)("span",{className:"text-sm",children:0===t?"This Month":e})},t)}))})})})]})]})}),(0,x.jsx)("div",{className:"flex-1",children:L?(0,x.jsx)(l.Z,{}):(0,x.jsxs)("div",{className:"flex flex-col gap-3 sm:mr-4 overflow-hidden",children:[(0,x.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),M.trim()){var r=U.map((function(e){return(0,n.Z)((0,n.Z)({},e),{},{orderItems:e.orderItems.filter((function(e){return e.name.toLowerCase().includes(M.toLowerCase())}))})}));I(r)}else t("Empty Input",{variant:"warning"})},className:"flex items-center justify-between mx-1 sm:mx-0 sm:w-10/12 bg-white border rounded hover:shadow",children:[(0,x.jsx)("input",{value:M,onChange:function(e){return T(e.target.value)},type:"search",name:"search",placeholder:"Search your orders here",className:"p-2 text-sm outline-none flex-1 rounded-l"}),(0,x.jsxs)("button",{type:"submit",className:"h-full text-sm px-1 sm:px-4 py-2.5 text-white bg-primary-blue hover:bg-blue-600 rounded-r flex items-center gap-1",children:[(0,x.jsx)(j.Z,{sx:{fontSize:"22px"}}),"Search Orders"]})]}),U&&0===z.length&&(0,x.jsxs)("div",{className:"flex items-center flex-col gap-2 p-8 bg-white",children:[(0,x.jsx)("img",{draggable:"false",src:"https://rukminim1.flixcart.com/www/100/100/promos/23/08/2020/c5f14d2a-2431-4a36-b6cb-8b5b5e283d4f.png",alt:"Empty Orders"}),(0,x.jsx)("span",{className:"text-lg font-medium",children:"Sorry, no results found"}),(0,x.jsx)("p",{children:"Edit search or clear all filters"})]}),U&&z.map((function(e){var t=e._id,r=e.orderStatus,s=e.orderItems,c=e.createdAt,i=e.deliveredAt;return s.map((function(e,s){return(0,a.createElement)(m,(0,n.Z)((0,n.Z)({},e),{},{key:s,orderId:t,orderStatus:r,createdAt:c,deliveredAt:i}))}))})).reverse()]})})]})})]})}},9257:function(e,t,r){r.d(t,{Y2:function(){return c},cn:function(){return s},fL:function(){return n},p6:function(){return a}});var n=function(e,t){return((t-e)/t*100).toFixed()},s=function(){var e=new Date;return e.setDate((new Date).getDate()+7),e.toUTCString().substring(0,11)},a=function(e){return new Date(e).toUTCString().substring(0,16)},c=function(e,t){return e.sort((function(){return.5-Math.random()})).slice(0,t)}}}]);