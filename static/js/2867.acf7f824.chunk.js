"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[2867],{1507:function(e,t,n){n.d(t,{Cs:function(){return h},PO:function(){return i},TG:function(){return d},b9:function(){return m},s$:function(){return l},wH:function(){return x},yv:function(){return p},zk:function(){return f}});var r=n(4165),a=n(5861),s=n(1881),o=n.n(s),c=n(531),u=n(8725),i=function(e){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var a,s;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:c.Zm}),{headers:{"Content-Type":"application/json"}},t.next=5,o().post("".concat(u.Z,"/order/new"),e,{withCredentials:!0});case 5:a=t.sent,s=a.data,n({type:c.Cd,payload:s}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n({type:c.Hn,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},d=function(){return function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:c.A4}),e.next=4,o().get("".concat(u.Z,"/orders/me"),{withCredentials:!0});case 4:n=e.sent,a=n.data,t({type:c.SJ,payload:a.orders}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:c.ut,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},l=function(e){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var a,s;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:c.YO}),t.next=4,o().get("".concat(u.Z,"/order/").concat(e),{withCredentials:!0});case 4:a=t.sent,s=a.data,n({type:c.um,payload:s.order}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:c.Ab,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var a,s;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:c.dR}),t.next=4,o().get("".concat(u.Z,"/payment/status/").concat(e),{withCredentials:!0});case 4:a=t.sent,s=a.data,console.log(s),n({type:c.jl,payload:s.txn}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n({type:c.CY,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},f=function(){return function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:c.Ux}),e.next=4,o().get("".concat(u.Z,"/admin/orders"),{withCredentials:!0});case 4:n=e.sent,a=n.data,t({type:c.g6,payload:a.orders}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:c.xH,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},h=function(e,t){return function(){var n=(0,a.Z)((0,r.Z)().mark((function n(a){var s,i;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:c.Mi}),{headers:{"Content-Type":"application/json"}},n.next=5,o().put("".concat(u.Z,"/admin/order/").concat(e),t,{withCredentials:!0});case 5:s=n.sent,i=s.data,a({type:c.Bx,payload:i.success}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),a({type:c.vs,payload:n.t0.response.data.message});case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},x=function(e){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var a,s;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:c.B6}),t.next=4,o().delete("".concat(u.Z,"/admin/order/").concat(e),{withCredentials:!0});case 4:a=t.sent,s=a.data,n({type:c.Sn,payload:s.success}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:c.gq,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},m=function(){return function(e){e({type:c.pp})}}},8704:function(e,t,n){var r=n(9439),a=n(7313),s=n(2135),o=n(5954),c=n(1997),u=n(6149),i=n(4117),d=n(3604),l=n(6467),p=n(6417);t.Z=function(e){var t=e.id,n=e.deleteHandler,f=e.name,h=e.editRoute,x=(0,a.useState)(!1),m=(0,r.Z)(x,2),y=m[0],v=m[1],w=function(){v(!1)};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"flex justify-between items-center gap-3",children:["review"!==h&&(0,p.jsx)(s.rU,{to:"/admin/".concat(h,"/").concat(t),className:"text-blue-600 hover:bg-blue-200 p-1 rounded-full bg-blue-100",children:(0,p.jsx)(o.Z,{})}),(0,p.jsx)("button",{onClick:function(){return v(!0)},className:"text-red-600 hover:bg-red-200 p-1 rounded-full bg-red-100",children:(0,p.jsx)(c.Z,{})})]}),(0,p.jsxs)(u.Z,{open:y,onClose:w,"aria-labelledby":"alert-dialog-title",children:[(0,p.jsx)(d.Z,{id:"alert-dialog-title",children:"Are you sure?"}),(0,p.jsx)(l.Z,{children:(0,p.jsxs)("p",{className:"text-gray-500",children:["Do you really want to delete",f&&(0,p.jsxs)("span",{className:"font-medium",children:["\xa0",f]}),"? This process cannot be undone."]})}),(0,p.jsxs)(i.Z,{children:[(0,p.jsx)("button",{onClick:w,className:"py-2 px-6 rounded shadow bg-gray-400 hover:bg-gray-500 text-white",children:"Cancel"}),(0,p.jsx)("button",{onClick:function(){return n(t)},className:"py-2 px-6 ml-4 rounded bg-red-600 hover:bg-red-700 text-white shadow",children:"Delete"})]})]})]})}},2867:function(e,t,n){n.r(t);var r=n(7313),a=n(5161),s=n(6352),o=n(7230),c=n(1507),u=n(531),i=n(8704),d=n(9257),l=n(4675),p=n(1674),f=n(6417);t.default=function(){var e=(0,s.I0)(),t=(0,o.Ds)().enqueueSnackbar,n=(0,s.v9)((function(e){return e.allOrders})),h=n.orders,x=n.error,m=(0,s.v9)((function(e){return e.order})),y=m.loading,v=m.isDeleted,w=m.error;(0,r.useEffect)((function(){x&&(t(x,{variant:"error"}),e((0,c.b9)())),w&&(t(w,{variant:"error"}),e((0,c.b9)())),v&&(t("Deleted Successfully",{variant:"success"}),e({type:u.zE})),e((0,c.zk)())}),[e,x,w,v,t]);var g=function(t){e((0,c.wH)(t))},b=[{field:"id",headerName:"Order ID",minWidth:200,flex:1},{field:"status",headerName:"Status",minWidth:150,flex:.2,renderCell:function(e){return(0,f.jsx)(f.Fragment,{children:"Delivered"===e.row.status?(0,f.jsx)("span",{className:"text-sm bg-green-100 p-1 px-2 font-medium rounded-full text-green-800",children:e.row.status}):"Shipped"===e.row.status?(0,f.jsx)("span",{className:"text-sm bg-yellow-100 p-1 px-2 font-medium rounded-full text-yellow-800",children:e.row.status}):(0,f.jsx)("span",{className:"text-sm bg-purple-100 p-1 px-2 font-medium rounded-full text-purple-800",children:e.row.status})})}},{field:"itemsQty",headerName:"Items Qty",type:"number",minWidth:100,flex:.1},{field:"amount",headerName:"Amount",type:"number",minWidth:200,flex:.2,renderCell:function(e){return(0,f.jsxs)("span",{children:["\u20b9",e.row.amount.toLocaleString()]})}},{field:"orderOn",headerName:"Order On",type:"date",minWidth:200,flex:.5},{field:"actions",headerName:"Actions",minWidth:100,flex:.3,type:"number",sortable:!1,renderCell:function(e){return(0,f.jsx)(i.Z,{editRoute:"order",deleteHandler:g,id:e.row.id})}}],Z=[];return h&&h.forEach((function(e){Z.unshift({id:e._id,itemsQty:e.orderItems.length,amount:e.totalPrice,orderOn:(0,d.p6)(e.createdAt),status:e.orderStatus})})),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(l.Z,{title:"Admin Orders | Flipkart"}),y&&(0,f.jsx)(p.Z,{}),(0,f.jsx)("h1",{className:"text-lg font-medium uppercase",children:"orders"}),(0,f.jsx)("div",{className:"bg-white rounded-xl shadow-lg w-full",style:{height:470},children:(0,f.jsx)(a._,{rows:Z,columns:b,pageSize:10,disableSelectIconOnClick:!0,sx:{boxShadow:0,border:0}})})]})}},1674:function(e,t,n){var r=n(1554),a=n(5281),s=n(6417);t.Z=function(){return(0,s.jsx)(r.Z,{sx:{color:"#fff",zIndex:1500},open:!0,children:(0,s.jsx)(a.Z,{color:"inherit"})})}},4675:function(e,t,n){var r=n(182),a=n(6417);t.Z=function(e){var t=e.title;return(0,a.jsx)(r.q,{children:(0,a.jsx)("title",{children:t})})}},9257:function(e,t,n){n.d(t,{Y2:function(){return o},cn:function(){return a},fL:function(){return r},p6:function(){return s}});var r=function(e,t){return((t-e)/t*100).toFixed()},a=function(){var e=new Date;return e.setDate((new Date).getDate()+7),e.toUTCString().substring(0,11)},s=function(e){return new Date(e).toUTCString().substring(0,16)},o=function(e,t){return e.sort((function(){return.5-Math.random()})).slice(0,t)}}}]);